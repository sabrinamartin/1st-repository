import java.applet.Applet;
import java.awt.Color;
import java.awt.Graphics;

public class Flag extends Applet {
	
	final Color OLD_GLORY_RED = new Color(0xB22234);
	final Color OLD_GLORY_BLUE = new Color(0x3C3B6E);
	
	public void paint (Graphics g) {
		
		double height = getHeight();
		double width = getWidth();
		double a;
		double b;
		if (width > 1.9*height) {
			a = height;
			b = 1.9*a;
		} else {
			b = width;
			a = width/1.9;
		}
		
		setBackground(Color.BLACK);
		g.setColor(Color.WHITE);
		g.fillRect(0, 0, (int) b, (int) a);
		
		double l = a/13;
		g.setColor(OLD_GLORY_RED);
		paint_red_stripes(g, a, b, l);
		
		double c = (a*7)/13;
		double d = (0.76)*a;
		g.setColor(OLD_GLORY_BLUE);
		g.fillRect(0, 0, (int) d, (int) c);
		
		double e = (0.054)*a;
		double h = (0.063)*a;
		double k = (0.0616)*a;
		
		paint_stars(g, a, e, h, k);
		
	}
	
	public void paint_red_stripes(Graphics g, double a, double b, double l) {
		g.setColor(OLD_GLORY_RED);
		for (double y = 0; y < a; y+=2*l) {
			g.fillRect(0, (int) y, (int) b, (int) l);
		}
	}
	
	public void paint_stars(Graphics g, double a, double e, double h, double k) {
		g.setColor(Color.WHITE);
		for (double i = h; i < 12*h; i += 2*h) {
			for (double j = e; j < 10*e; j += 2*e) {
				draw_star(k, g, i, j);
			}
		}
		for (double i = 2*h; i < 11*h; i += 2*h) {
			for (double j = 2*e; j < 9*e; j += 2*e) {
				draw_star(k, g, i, j);
			}
		}
	}
	
	public void draw_star(double k, Graphics g, double i, double j) {
		final double SIN18 = Math.sin(18*Math.PI/180);
		final double COS18 = Math.cos(18*Math.PI/180);
		final double SIN36 = Math.sin(36*Math.PI/180);
		final double COS36 = Math.cos(36*Math.PI/180);
		final double TAN36 = Math.tan(36*Math.PI/180);
		
		double s = ((((TAN36) / (j-k/2)*SIN36)));
		
		int []x_pts = {(int) (i-k/2*COS18),
				(int) (i-s),
				(int) (i), 
//				(int) (i+s),
				(int) (i+k/2*COS18),
				(int) (i+k/2*SIN36),
				(int) (i-k/2*SIN36)};
		int []y_pts = {(int) (j-k/2*SIN18),
				(int) (j-k/2*SIN36),
				(int) (j-k/2),
//				(int) (j-k/2*SIN36),
				(int) (j-k/2*SIN18),
				(int) (j+k/2*COS36),
				(int) (j+k/2*COS36)};
		g.fillPolygon(x_pts, y_pts, 6);
	}
	

}
